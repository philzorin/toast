// Minimal build script to force JitPack to use pre-built AAR
plugins {
    id 'base' // Lightest possible plugin
    id 'maven-publish' // Required for publishing override
}

// === Critical JitPack Workaround ===
publishing {
    publications {
        aar(MavenPublication) {
            groupId = 'com.github.philzorin'
            artifactId = 'toast'
            version = '1.0.1'
            artifact file("toast.aar") // Your pre-built AAR
            pom.withXml {
                // Add dependencies if your AAR requires them
                def deps = asNode().appendNode('dependencies')
                // Example for androidx:
                def dep = deps.appendNode('dependency')
                dep.appendNode('groupId', 'androidx.appcompat')
                dep.appendNode('artifactId', 'appcompat')
                dep.appendNode('version', '1.7.1')
            }
        }
    }
}

// Disable all tasks except what's absolutely needed
tasks.all { task ->
    if (!task.name.startsWith('publish')) {
        task.enabled = false
    }
}
